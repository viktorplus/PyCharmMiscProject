"""Python Fundamenta
Оценки текстом
Напишите программу, которая преобразует список оценок по системе от 1 до 5 в текстовое представление. Нужно сохранить в списках числовой результат и текстовое представление. Где,
5 — "отлично", 3-4 — "хорошо", а 2 и ниже — "неудовлетворительно".
Данные:
grades = [5, 3, 4, 2, 1, 5, 3]
Пример вывода:
[[5, 'отлично'], [3, 'хорошо'], [4, 'хорошо'], [2, 'неудовлетворительно'], [1, 'неудовлетворительно'], [5, 'отлично'], [3, 'хорошо']]
"""
# grades = [5, 3, 4, 2, 1, 5, 3]
# grades_string = [[x, "отлично"] if x == 5 else ([x, "хорошо"] if x in [4, 3] else [x, "неудовлетворительно"]) for x in grades]
# print(grades_string)

"""
Правильные скобки
Напишите программу, которая принимает строку, содержащую любые виды скобок — круглые (), квадратные [] и фигурные {}.
Необходимо проверить, правильно ли они расставлены. Скобки считаются правильно расставленными, если:
Каждая открывающая скобка имеет соответствующую закрывающую.
Скобки закрываются в правильном порядке.

Пример вывода:
Скобки: ({[}])
Валидны: False

Скобки: ([({}()){}])
Валидны: True
"""


# string = "({[}])"
string = "({[{}]})"
stack = []
open_set = "({["
close_set = ")}]"
is_valid = True
for ch in string:
    if ch in open_set:
        stack.append(ch)
    else:
        idx = close_set.index(ch)
        if not stack or stack.pop() != open_set[idx]:
            is_valid = False
            break
else:
    if stack:
        is_valid = False
print(f"Скобки: {string}")
print(f"Валидны: {is_valid}")


# Вариант 2 решения из summary
# string = "({[{}]})"   # Строка, скобки которой нужно проверить
#
# stack = []            # Список используем как стек (LIFO)
# brackets = "(){}[]"   # Все пары скобок: открывающая всегда перед закрывающей
# is_valid = True       # Флаг корректности скобок
#
# # Перебираем каждый символ строки
# for bracket in string:
#
#     # 1. Если это открывающая скобка — добавляем в стек
#     # brackets[::2] → "({[" — все открывающие
#     if bracket in brackets[::2]:
#         stack.append(bracket)      # PUSH
#
#     # 2. Если это закрывающая скобка
#     # brackets[1::2] → ")}]" — все закрывающие
#     elif bracket in brackets[1::2]:
#
#         # Проверяем:
#         #  a) стек не пустой
#         #  b) верх стека (stack[-1]) = правильная открывающая скобка
#         #
#         # brackets.find(bracket) — ищем индекс закрывающей скобки
#         # -1 — позиция соответствующей ей открывающей
#         #
#         # Пример: bracket = "]"
#         # brackets.find("]") = 5
#         # 5 - 1 = 4
#         # brackets[4] = "[" → ожидаемая открывающая скобка
#         if stack and stack[-1] == brackets[brackets.find(bracket) - 1]:
#             stack.pop()            # Пара совпала → убираем верхнюю скобку из стека (POP)
#         else:
#             is_valid = False       # Скобки не совпали или стек пуст → ошибка
#             break                  # Можно сразу завершить проверку
#
# # Вывод результата
# print(f"Скобки: {string}")
# print(f"Валидны: {is_valid}")



# Вариант 3 решения из summary
# string = "({[{}]})"
# print(f"Скобки: {string}")
# prev = None
#
# while string != prev:
#     prev = string
#     string = string.replace("()", "").replace("{}", "").replace("[]", "")
#
# print("Валидны:", string == "")


# вариант 4 со словарем, изучен позже.
# string = "({[{}]})"
#
# stack = []
# pairs = {')': '(', '}': '{', ']': '['}
#
# is_valid = True
#
# for ch in string:
#     # Если открывающая скобка → push
#     if ch in pairs.values():
#         stack.append(ch)
#
#     # Если закрывающая → проверяем пару
#     elif ch in pairs:
#         if not stack or stack[-1] != pairs[ch]:
#             is_valid = False
#             break
#         stack.pop()
#
# # Если стек пуст — всё корректно
# print("Валидны:", is_valid and not stack)


